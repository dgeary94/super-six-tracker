(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function c(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=c(e);fetch(e.href,r)}})();document.querySelector("#app").innerHTML=`
    <h1>&#9917 Super 6 League Tracker</h1>
    <h2>QUE SERA SERA, WE'RE GOING TO WORMBELLY</h2>
    <div id=graph><div>`;const n={top:50,right:90,bottom:50,left:100},g=800-n.left-n.right,y=500-n.top-n.bottom,p=g/y;let u=null,l=null;function x(o,a){const c=window.innerWidth,s=window.innerHeight;return c/s>p?(a=y,o=g):(o=c,a=o/p),[o,a]}[u,l]=x();console.log(u,l);const i=d3.select("#graph").append("svg").attr("width",u+n.left+n.right).attr("height",l+n.top+n.bottom).append("g").attr("transform",`translate(${n.left}, ${n.top})`);d3.csv("data/super-six-scores.csv").then(function(o){const a=["andy","david","jake","james","jonnie","josh","sam"],c=a.map(function(t){return{name:t,values:o.filter(function(f){return f.name===t}).map(function(f){return{round:+f.round,score:+f.score_sum}})}}),s=d3.scaleLinear().domain([d3.min(o,function(t){return+t.round}),d3.max(o,function(t){return+t.round})]).range([0,u]);i.append("g").attr("transform",`translate(0, ${l})`).style("font-size","12px").call(d3.axisBottom(s));function e(){return d3.axisBottom(s).ticks()}i.append("g").attr("class","grid").attr("transform","translate(0,"+l+")").call(e().tickSize(-l).tickFormat("")),i.append("text").attr("text-anchor","center").attr("x",(u-50)/2).attr("y",l+n.bottom).text("Round");const r=d3.scaleLinear().domain([0,d3.max(o,function(t){return+t.score_sum})]).range([l,0]);i.append("g").style("font-size","12px").call(d3.axisLeft(r));function d(){return d3.axisLeft(r).ticks()}i.append("g").attr("class","grid").call(d().tickSize(-u).tickFormat("")),i.append("text").attr("text-anchor","center").attr("x",-n.left).attr("y",l/2).text("Score");const m=d3.scaleOrdinal().domain(a).range(d3.schemeDark2),h=d3.line().x(t=>s(+t.round)).y(t=>r(+t.score));i.selectAll("myLines").data(c).join("path").attr("d",t=>h(t.values)).attr("stroke",t=>m(t.name)).style("stroke-width",2).style("fill","none"),i.selectAll("myDots").data(c).join("g").style("fill",t=>m(t.name)).selectAll("myPoints").data(t=>t.values).join("circle").attr("cx",t=>s(t.round)).attr("cy",t=>r(t.score)).attr("r",3).attr("stroke","white"),i.selectAll("myLabels").data(c).join("g").append("text").datum(t=>({name:t.name,value:t.values[t.values.length-1]})).attr("transform",t=>`translate(${s(t.value.round)},${r(t.value.score)})`).attr("x",t=>t.name==="jake"?55:12).text(t=>t.name).style("fill",t=>m(t.name)).style("font-size",15)});
